<html>
    <head>
        <title>Injectorjs - Injector Complete Event</title>
        <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
        <script src="../../src/injector.js"></script>
    </head>
    <body>

        <h1>Smoke Test 003 - Ready State</h1>
        <p>
            Ready State - The Injector Is Loaded And Ready When The Script Is Executed.
        </p>

    </body>
      <script>
          var injectorReady = false;
          var domReady = false;

          function domLoaded () {
            domReady = true;
            loadedHandler();
          }

          function injectorLoaded () {
            injectorReady = true;
            loadedHandler();
          }

          function loadedHandler () {
            if (injectorReady && domReady) {
                var newDiv = document.createElement("div");
                newDiv.id = "injector-success";
                newDiv.innerHTML = "Injector ReadyState And Document ReadyState Used";
                document.body.appendChild(newDiv);
            }
          }


          if( typeof FAI === 'undefined' || FAI === null ){
            document.addEventListener("injectorReady", injectorLoaded);
          } else {
            if (FAI !== null && FAI.INJECTOR && FAI.INJECTOR.readyState === 'ready') {
              injectorReady = true;
            }
          }

          if (document.readyState === 'interactive' || document.readyState === "complete") {
            domReady = true;
          } else {
            document.addEventListener("DOMContentLoaded", domLoaded);
          }
          loadedHandler();

      </script>
</html>
